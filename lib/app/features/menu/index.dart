import 'dart:convert';
import 'dart:io';

import 'package:collection/collection.dart';
import 'package:cross_file/cross_file.dart';
import 'package:flex_color_scheme/flex_color_scheme.dart';
import 'package:flutter/material.dart';
import 'package:flutter/scheduler.dart';
import 'package:flutter/services.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_platform_widgets/flutter_platform_widgets.dart';
import 'package:flutter_svg/flutter_svg.dart';
import 'package:font_awesome_flutter/font_awesome_flutter.dart';
import 'package:go_router/go_router.dart';
import 'package:homemakers_merchant/app/features/common/domain/entities/capture_image_entity.dart';
import 'package:homemakers_merchant/app/features/common/index.dart';
import 'package:homemakers_merchant/app/features/common/presentation/widgets/upload_image_utils.dart';

import 'package:homemakers_merchant/app/features/menu/index.dart';
import 'package:homemakers_merchant/app/features/menu/presentation/manager/menu/menu_bloc.dart';
import 'package:homemakers_merchant/app/features/menu/presentation/widgets/category_list_view.dart';
import 'package:homemakers_merchant/app/features/menu/presentation/widgets/form_page_view/enum/progress_enum.dart';
import 'package:homemakers_merchant/app/features/menu/presentation/widgets/subcategory_list_view.dart';
import 'package:homemakers_merchant/app/features/notification/index.dart';
import 'package:homemakers_merchant/app/features/permission/presentation/bloc/permission_bloc.dart';
import 'package:homemakers_merchant/app/features/profile/index.dart';
import 'package:homemakers_merchant/app/features/store/index.dart';
import 'package:homemakers_merchant/base/base_usecase.dart';
import 'package:homemakers_merchant/base/widget_view.dart';
import 'package:homemakers_merchant/bootup/injection_container.dart';
import 'package:homemakers_merchant/bootup/injection_container.dart';
import 'package:homemakers_merchant/config/translation/extension/text_extension.dart';
import 'package:homemakers_merchant/config/translation/language_controller.dart';
import 'package:homemakers_merchant/config/translation/language_controller.dart';
import 'package:homemakers_merchant/config/translation/widgets/language_selection_widget.dart';
import 'package:homemakers_merchant/core/common/entity/ratingAndReviewEntity.dart';
import 'package:homemakers_merchant/core/common/enum/generic_enum.dart';
import 'package:homemakers_merchant/core/constants/global_app_constants.dart';
import 'package:homemakers_merchant/core/extensions/app_extension.dart';
import 'package:homemakers_merchant/core/extensions/global_extensions/dart_extensions.dart';
import 'package:homemakers_merchant/core/extensions/global_extensions/src/object.dart';
import 'package:homemakers_merchant/core/local/database/app_database.dart';
import 'package:homemakers_merchant/core/local/database/base/identifiable.dart';
import 'package:homemakers_merchant/core/local/database/base/repository.dart';
import 'package:homemakers_merchant/core/local/database/base/repository_failure.dart';
import 'package:homemakers_merchant/core/local/database/base/tryCatch.dart';
import 'package:homemakers_merchant/core/network/http/base_response_error_model.dart';
import 'package:homemakers_merchant/core/service/connectivity_bloc/src/connectivity_bloc/connectivity_service.dart';
import 'package:homemakers_merchant/shared/router/app_pages.dart';
import 'package:homemakers_merchant/shared/states/api_result_state.dart';
import 'package:homemakers_merchant/shared/states/data_source_state.dart';
import 'package:homemakers_merchant/shared/states/result_state.dart';
import 'package:homemakers_merchant/shared/states/widget_state.dart';
import 'package:homemakers_merchant/shared/widgets/app/app_logo.dart';
import 'package:homemakers_merchant/shared/widgets/app/app_text_field_widget.dart';
import 'package:homemakers_merchant/shared/widgets/app/page_body.dart';
import 'package:homemakers_merchant/shared/widgets/universal/animate_do/animate_do.dart';
import 'package:homemakers_merchant/shared/widgets/universal/animated_gap/gap.dart';
import 'package:homemakers_merchant/shared/widgets/universal/carousel_images/carousel_images.dart';
import 'package:homemakers_merchant/shared/widgets/universal/conditional_rendering/flutter_conditional_rendering.dart';
import 'package:homemakers_merchant/shared/widgets/universal/constrained_scrollable_views/constrained_scrollable_views.dart';
import 'package:homemakers_merchant/shared/widgets/universal/date_time_picker_platform/datetime_picker_field_platform.dart';
import 'package:homemakers_merchant/shared/widgets/universal/double_tap_exit/double_tap_to_exit.dart';
import 'package:homemakers_merchant/shared/widgets/universal/image_loader/image_helper.dart';
import 'package:homemakers_merchant/shared/widgets/universal/infinity_scroll_pagination/infinite_scroll_pagination.dart';
import 'package:homemakers_merchant/shared/widgets/universal/preload_pageview/preload_page_view.dart';
import 'package:homemakers_merchant/shared/widgets/universal/step_progress/step_progress.dart';
import 'package:homemakers_merchant/shared/widgets/universal/transitions/list_detail_transition.dart';
import 'package:homemakers_merchant/shared/widgets/universal/wrap_text/wrap_text.dart';
import 'package:homemakers_merchant/utils/app_equatable/app_equatable.dart';
import 'package:homemakers_merchant/utils/app_log.dart';
import 'package:homemakers_merchant/utils/collections_utils.dart';
import 'package:homemakers_merchant/utils/fieldFocusChange.dart';
import 'package:homemakers_merchant/utils/functional/either/either.dart';
import 'package:homemakers_merchant/utils/image_type.dart';
import 'package:homemakers_merchant/utils/input_formatters/mask_text_input_formatter/mask_text_input_formatter.dart';
import 'package:homemakers_merchant/utils/time_of_day_utils.dart';
import 'package:homemakers_merchant/utils/validation/form_validation/form_validation.dart';
import 'package:lottie/lottie.dart';
import 'package:network_manager/network_manager.dart';
import 'package:path/path.dart' as path;
import 'package:sembast/blob.dart';
import 'package:sembast/sembast.dart';
import 'package:sembast/timestamp.dart';
import 'package:sembast/utils/value_utils.dart';
import 'package:sherlock/completion.dart';
import 'package:sherlock/sherlock.dart';
import 'package:sherlock/widget.dart';
import 'package:uuid/uuid.dart';
/*import 'package:homemakers_merchant/shared/widgets/universal/wrap_and_more/wrap_and_more.dart';
import 'package:homemakers_merchant/shared/widgets/universal/wrap_text/wrap_text.dart';*/
import 'package:wrap_and_more/wrap_and_more.dart';

import 'presentation/widgets/display_image_widget.dart';
import 'presentation/widgets/form_page_view/models/form_page_model.dart';
import 'presentation/widgets/form_page_view/models/form_page_style.dart';

export 'package:homemakers_merchant/app/features/menu/presentation/manager/menu/menu_bloc.dart';

part 'package:homemakers_merchant/app/features/menu/common/assets_upload_status.dart';
part 'package:homemakers_merchant/app/features/menu/common/menu_entity_enum.dart';
part 'package:homemakers_merchant/app/features/menu/common/menu_typedef.dart';
part 'package:homemakers_merchant/app/features/menu/data/local/data_sources/addons_local_db_dao.dart';
part 'package:homemakers_merchant/app/features/menu/data/local/data_sources/local_categories_list.dart';
part 'package:homemakers_merchant/app/features/menu/data/local/data_sources/menu_local_db_base_repository.dart';
part 'package:homemakers_merchant/app/features/menu/data/local/data_sources/menu_local_db_dao.dart';
// Data
part 'package:homemakers_merchant/app/features/menu/data/remote/data_sources/menu_datasource.dart';
part 'package:homemakers_merchant/app/features/menu/data/remote/data_sources/menu_remote_datasource.dart';
part 'package:homemakers_merchant/app/features/menu/data/repositories/menu_repository_implement.dart';
part 'package:homemakers_merchant/app/features/menu/domain/entities/menu_entity.dart';
// Repository
part 'package:homemakers_merchant/app/features/menu/domain/repositories/menu_repository.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/bind_addons_with_menu_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/unbind_menu_with_store_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/bind_menu_with_store_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/bind_addons_with_user_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/bind_menu_with_user_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/delete_addons_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/delete_all_addons_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/delete_all_menu_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/delete_menu_usecase.dart';
// Addons UseCases
part 'package:homemakers_merchant/app/features/menu/domain/usecases/edit_addons_usecase.dart';
// UseCases
part 'package:homemakers_merchant/app/features/menu/domain/usecases/edit_menu_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/get_addons_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/get_all_addons_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/get_all_menu_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/get_menu_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/save_addons_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/save_menu_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/all_menu_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/bind_menu_with_store.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/bind_menu_with_store_greeting_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/menu_all_addons_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/menu_description_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/menu_details_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/new_addons_greeting_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/new_menu_greeting_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/reform_save_menu_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/confirm_menu_price_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/upload_menu_image_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/save_addons_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/save_menu_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/subpages/menu_form1_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/subpages/menu_form2_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/subpages/menu_form3_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/subpages/menu_form4_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/subpages/menu_form5_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/addons_card.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/form_page_view/form_page_view.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/menu_card_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/menu_details/menu_component_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/menu_details/menu_details_name_image_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/menu_details/menu_price_info_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/menu_preparation_time_form_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/multi_select_menu_addons_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/multi_select_menu_portions_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/multi_select_menu_taste_level_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/multi_select_menu_taste_type_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/set_addons_price_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/set_menu_price_widget.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/widgets/store_card_widget.dart';
// Category
part 'package:homemakers_merchant/app/features/menu/presentation/pages/main_category_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/category_page.dart';
part 'package:homemakers_merchant/app/features/menu/presentation/pages/sub_category_page.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/get_all_category_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/data/local/data_sources/category_local_db_dao.dart';
//Save And Get All UseCase
part 'package:homemakers_merchant/app/features/menu/domain/usecases/get_all_menu_pagination_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/save_all_menus_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/get_all_addons_pagination_usecase.dart';
part 'package:homemakers_merchant/app/features/menu/domain/usecases/save_all_addons_usecase.dart';
