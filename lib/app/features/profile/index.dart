import 'dart:async';
import 'dart:convert';
import 'dart:io';
import 'dart:ui' as ui;
import 'dart:ui';

import 'package:animator/animator.dart';
import 'package:collection/collection.dart';
import 'package:flex_color_scheme/flex_color_scheme.dart';
import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';
import 'package:flutter/scheduler.dart';
import 'package:flutter/services.dart';
import 'package:flutter_animarker/helpers/extensions.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_platform_widgets/flutter_platform_widgets.dart';
import 'package:flutter_svg/svg.dart';
import 'package:go_router/go_router.dart';
/*import 'package:google_ml_kit/google_ml_kit.dart';*/
import 'package:hive/hive.dart';
import 'package:homemakers_merchant/app/features/address/index.dart';
import 'package:homemakers_merchant/app/features/authentication/presentation/manager/phone_number_verification_bloc.dart';
import 'package:homemakers_merchant/app/features/common/domain/entities/capture_image_entity.dart';
import 'package:homemakers_merchant/app/features/menu/index.dart';
import 'package:homemakers_merchant/app/features/payment/index.dart';
import 'package:homemakers_merchant/app/features/permission/presentation/bloc/permission_bloc.dart';
import 'package:homemakers_merchant/app/features/profile/presentation/manager/document/business_document_bloc.dart';
import 'package:homemakers_merchant/app/features/profile/presentation/widgets/document/image_edit/crop_editor_helper.dart';
import 'package:homemakers_merchant/app/features/store/index.dart';
import 'package:homemakers_merchant/base/base_usecase.dart';
import 'package:homemakers_merchant/base/widget_view.dart';
import 'package:homemakers_merchant/bootup/bootstrap.dart';
import 'package:homemakers_merchant/bootup/injection_container.dart';
import 'package:homemakers_merchant/config/translation/app_translator.dart';
import 'package:homemakers_merchant/config/translation/extension/text_extension.dart';
import 'package:homemakers_merchant/config/translation/language_controller.dart';
import 'package:homemakers_merchant/config/translation/widgets/language_selection_widget.dart';
import 'package:homemakers_merchant/core/common/entity/ratingAndReviewEntity.dart';
import 'package:homemakers_merchant/core/common/enum/generic_enum.dart';
import 'package:homemakers_merchant/core/constants/global_app_constants.dart';
import 'package:homemakers_merchant/core/extensions/app_extension.dart';
import 'package:homemakers_merchant/core/extensions/aync_extension/async_extension.dart';
import 'package:homemakers_merchant/core/extensions/global_extensions/dart_extensions.dart';
import 'package:homemakers_merchant/core/extensions/global_extensions/src/object.dart';
import 'package:homemakers_merchant/core/extensions/string/pattern.dart';
import 'package:homemakers_merchant/core/interface/storage_interface.dart';
import 'package:homemakers_merchant/core/local/database/app_database.dart';
import 'package:homemakers_merchant/core/local/database/base/identifiable.dart';
import 'package:homemakers_merchant/core/local/database/base/repository.dart';
import 'package:homemakers_merchant/core/local/database/base/repository_failure.dart';
import 'package:homemakers_merchant/core/local/database/base/tryCatch.dart';
import 'package:homemakers_merchant/core/network/http/base_response_error_model.dart';
import 'package:homemakers_merchant/core/service/connectivity_bloc/src/connectivity_bloc/connectivity_service.dart';
import 'package:homemakers_merchant/gen/assets.gen.dart';
import 'package:homemakers_merchant/shared/router/app_pages.dart';
import 'package:homemakers_merchant/shared/states/api_result_state.dart';
import 'package:homemakers_merchant/shared/states/data_source_state.dart';
import 'package:homemakers_merchant/shared/states/result_state.dart';
import 'package:homemakers_merchant/shared/widgets/app/app_logo.dart';
import 'package:homemakers_merchant/shared/widgets/app/app_text_field_widget.dart';
import 'package:homemakers_merchant/shared/widgets/app/page_body.dart';
import 'package:homemakers_merchant/shared/widgets/universal/animate_do/animate_do.dart';
import 'package:homemakers_merchant/shared/widgets/universal/animated_gap/gap.dart';
import 'package:homemakers_merchant/shared/widgets/universal/banner_carousel/banner_carousel.dart';
import 'package:homemakers_merchant/shared/widgets/universal/carousel_animation/carousel_animations.dart';
import 'package:homemakers_merchant/shared/widgets/universal/constrained_scrollable_views/constrained_scrollable_views.dart';
import 'package:homemakers_merchant/shared/widgets/universal/custom_radio_group_list/custom_radio_group_list.dart';
import 'package:homemakers_merchant/shared/widgets/universal/dotted_border/dotted_border.dart';
import 'package:homemakers_merchant/shared/widgets/universal/image_loader/image_helper.dart';
import 'package:homemakers_merchant/shared/widgets/universal/infinity_scroll/infinite_carousel.dart';
import 'package:homemakers_merchant/shared/widgets/universal/multi_stream_builder/multi_stream_builder.dart';
import 'package:homemakers_merchant/shared/widgets/universal/one_context/one_context.dart';
import 'package:homemakers_merchant/shared/widgets/universal/phone_number_text_field/phone_form_field_bloc.dart';
import 'package:homemakers_merchant/shared/widgets/universal/phone_number_text_field/phonenumber_form_field_widget.dart';
import 'package:homemakers_merchant/utils/app_data_dir/app_data_dir.dart';
import 'package:homemakers_merchant/utils/app_equatable/src/app_equatable.dart';
import 'package:homemakers_merchant/utils/app_log.dart';
import 'package:homemakers_merchant/utils/collections_utils.dart';
import 'package:homemakers_merchant/utils/functional/either/either.dart';
import 'package:homemakers_merchant/utils/image_type.dart';
import 'package:homemakers_merchant/utils/input_formatters/muskey.dart';
import 'package:image_picker/image_picker.dart';
import 'package:implicitly_animated_reorderable_list_2/implicitly_animated_reorderable_list_2.dart';
import 'package:implicitly_animated_reorderable_list_2/transitions.dart';
import 'package:network_manager/network_manager.dart';
import 'package:new_image_crop/data/data_editor_config.dart';
import 'package:new_image_crop/ui/dialog/image_editor_component/image_editor_plane.dart';
import 'package:phone_form_field/phone_form_field.dart';
import 'package:sembast/blob.dart';
import 'package:sembast/sembast.dart';
import 'package:homemakers_merchant/app/features/profile/presentation/manager/profile/business_profile_bloc.dart';
import 'package:homemakers_merchant/app/features/profile/presentation/manager/bank/payment_bank_bloc.dart';
import 'package:homemakers_merchant/app/features/profile/presentation/manager/document/business_document_bloc.dart';
import 'package:sembast/timestamp.dart';
import 'package:uuid/uuid.dart';
import 'package:path/path.dart' as path;
import 'dart:ui' as ui;
//Data
part 'package:homemakers_merchant/app/features/profile/data/local/data_sources/business_type_list_data.dart';
part 'package:homemakers_merchant/app/features/profile/data/local/data_sources/local_usermodel_service.dart';
part 'package:homemakers_merchant/app/features/profile/data/local/data_sources/user_local_db_base_repository.dart';
part 'package:homemakers_merchant/app/features/profile/data/local/data_sources/user_local_db_dao.dart';
part 'package:homemakers_merchant/app/features/profile/domain/entities/bank/bank_info_tile_model.dart';
part 'package:homemakers_merchant/app/features/profile/domain/entities/business/business_profile_entity.dart';
part 'package:homemakers_merchant/app/features/profile/domain/entities/business/business_type_entity.dart';
part 'package:homemakers_merchant/app/features/profile/domain/entities/document/business_document_uploaded_entity.dart';
part 'package:homemakers_merchant/app/features/profile/domain/entities/user_entity.dart';
part 'package:homemakers_merchant/app/features/profile/domain/repositories/bank/payment_bank_repository.dart';
part 'package:homemakers_merchant/app/features/profile/domain/repositories/business/business_repository.dart';
part 'package:homemakers_merchant/app/features/profile/data/remote/data_sources/profile_data_source.dart';
part 'package:homemakers_merchant/app/features/profile/data/remote/data_sources/profile_remote_data_source.dart';
part 'package:homemakers_merchant/app/features/profile/data/repositories/bank/payment_bank_repository_implement.dart';
part 'package:homemakers_merchant/app/features/profile/data/repositories/business/business_profile_repository_implement.dart';
part 'package:homemakers_merchant/app/features/profile/data/repositories/document/business_document_repository_implement.dart';
part 'package:homemakers_merchant/app/features/profile/data/local/data_sources/user_business_document_local_db_dao.dart';
part 'package:homemakers_merchant/app/features/profile/data/local/data_sources/user_business_profile_local_db_dao.dart';
part 'package:homemakers_merchant/app/features/profile/data/local/data_sources/user_payment_bank_local_db_dao.dart';
// Domain
part 'package:homemakers_merchant/app/features/profile/domain/repositories/document/document_repository.dart';
// profile usecase
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/get_profile_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/get_business_profile_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/get_all_business_profile_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/save_business_profile_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/edit_business_profile_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/delete_business_profile_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/delete_all_business_profile_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/get_current_user_profile_fromlocaldb_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/profile/get_current_user_token_fromlocaldb_usecase.dart';
// payment bank usecase
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/payment_bank/get_payment_bank_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/payment_bank/get_all_payment_bank_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/payment_bank/save_payment_bank_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/payment_bank/edit_payment_bank_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/payment_bank/delete_payment_bank_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/payment_bank/delete_all_payment_bank_usecase.dart';
// Document usecase
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/document/get_document_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/document/get_all_document_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/document/save_document_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/document/edit_document_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/document/delete_document_usecase.dart';
part 'package:homemakers_merchant/app/features/profile/domain/use_cases/document/delete_all_document_usecase.dart';
//
part 'package:homemakers_merchant/app/features/profile/domain/entities/bank/payment_bank_entity.dart';
part 'package:homemakers_merchant/app/features/profile/common/payment_bank_enum.dart';
// Presentation
part 'package:homemakers_merchant/app/features/profile/presentation/manager/user_model_storage_controller.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/pages/bank/bank_information_page.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/pages/business/business_information_page.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/pages/document/new_business_document_page.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/pages/business/select_business_type_page.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/pages/document/business_document_page.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/pages/document/upload_document_page.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/widgets/bank/bank_information_tile_widget.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/widgets/bank/common_dialog_properties.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/widgets/bank/confirm_bank_information_dialog.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/widgets/document/new_business_document_component_widget.dart';

part 'package:homemakers_merchant/app/features/profile/presentation/widgets/document/uploaded_document_child_widget.dart';
part 'package:homemakers_merchant/app/features/profile/presentation/widgets/document/uploaded_document_placeholder_widget.dart';

part 'package:homemakers_merchant/app/features/profile/common/document_status_enum.dart';
part 'package:homemakers_merchant/app/features/profile/common/profile_status_enum.dart';
part 'package:homemakers_merchant/app/features/profile/common/document_type_enum.dart';
part 'package:homemakers_merchant/app/features/profile/common/document_picker_source_enum.dart';
part 'package:homemakers_merchant/app/features/profile/domain/entities/document/new_business_document_entity.dart';
